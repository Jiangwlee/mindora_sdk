# Mindora SDK 基础设施环境配置模板
# 复制此文件为 .env 并根据实际环境修改配置值

# =============================================================================
# 基础配置
# =============================================================================

# 数据持久化根目录路径
MINDORA_DATA_ROOT=${HOME}/.mindora/infrastructure

# 环境类型 (development, testing, production)
ENVIRONMENT=development

# =============================================================================
# PostgreSQL 数据库配置
# =============================================================================

# 数据库连接信息
POSTGRES_DB=mindora_dev
POSTGRES_USER=mindora_user
POSTGRES_PASSWORD=mindora_password_change_me

# 数据库性能配置
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# =============================================================================
# Redis 缓存配置
# =============================================================================

# Redis 认证密码
REDIS_PASSWORD=redis_password_change_me

# Redis 内存配置
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# MinIO 对象存储配置
# =============================================================================

# MinIO 管理员凭据
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin_password_change_me

# MinIO 域名配置（生产环境使用）
MINIO_SERVER_URL=http://localhost:9000
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001

# =============================================================================
# RabbitMQ 消息队列配置
# =============================================================================

# RabbitMQ 管理员凭据
RABBITMQ_DEFAULT_USER=rabbitmq_user
RABBITMQ_DEFAULT_PASS=rabbitmq_password_change_me

# RabbitMQ 集群配置
RABBITMQ_ERLANG_COOKIE=rabbitmq_cookie_change_me

# =============================================================================
# Elasticsearch 搜索引擎配置
# =============================================================================

# ES 集群配置
ELASTIC_CLUSTER_NAME=mindora-cluster
ELASTIC_NODE_NAME=mindora-node-1

# ES 内存配置
ES_JAVA_OPTS=-Xms1g -Xmx1g

# ES 安全配置（生产环境启用）
ELASTIC_SECURITY_ENABLED=false
ELASTIC_USERNAME=elastic
ELASTIC_PASSWORD=elastic_password_change_me

# =============================================================================
# Qdrant 向量数据库配置
# =============================================================================

# Qdrant API Key（生产环境使用）
QDRANT_API_KEY=qdrant_api_key_change_me

# =============================================================================
# Consul 服务发现配置
# =============================================================================

# Consul 加密配置
CONSUL_ENCRYPT_KEY=consul_encrypt_key_change_me

# Consul ACL配置（生产环境启用）
CONSUL_ACL_ENABLED=false
CONSUL_ACL_MASTER_TOKEN=consul_master_token_change_me

# =============================================================================
# Prometheus 监控配置
# =============================================================================

# Prometheus 数据保留时间
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# =============================================================================
# Grafana 可视化配置
# =============================================================================

# Grafana 管理员密码
GRAFANA_ADMIN_PASSWORD=grafana_password_change_me

# Grafana 邮件配置（可选）
GRAFANA_SMTP_ENABLED=false
GRAFANA_SMTP_HOST=smtp.gmail.com:587
GRAFANA_SMTP_USER=your-email@gmail.com
GRAFANA_SMTP_PASSWORD=your-email-password

# =============================================================================
# 网络配置
# =============================================================================

# 端口配置（如有冲突可修改）
POSTGRES_PORT=5432
REDIS_PORT=6379
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
RABBITMQ_AMQP_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
ELASTICSEARCH_HTTP_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300
QDRANT_PORT=6333
CONSUL_HTTP_PORT=8500
CONSUL_DNS_PORT=8600
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
KIBANA_PORT=5601

# =============================================================================
# 安全配置
# =============================================================================

# SSL/TLS 配置（生产环境）
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/mindora.crt
SSL_KEY_PATH=/etc/ssl/private/mindora.key

# 防火墙配置
FIREWALL_ENABLED=false
ALLOWED_IPS=127.0.0.1,::1

# =============================================================================
# 日志配置
# =============================================================================

# 全局日志级别
LOG_LEVEL=INFO

# 日志保留天数
LOG_RETENTION_DAYS=30

# =============================================================================
# 备份配置
# =============================================================================

# 自动备份启用
BACKUP_ENABLED=true

# 备份保留策略
BACKUP_DAILY_RETENTION=7
BACKUP_WEEKLY_RETENTION=4
BACKUP_MONTHLY_RETENTION=12

# 备份存储路径
BACKUP_STORAGE_PATH=${MINDORA_DATA_ROOT}/backups

# =============================================================================
# 开发环境特殊配置
# =============================================================================

# 调试模式
DEBUG_MODE=true

# 开发工具端口暴露
EXPOSE_DEBUG_PORTS=true

# 热重载
HOT_RELOAD=true